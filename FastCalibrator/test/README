-------------------------------------
------- Intercalibration Tool -------
-------------------------------------

Download and compile the package :

export CVS_RSH=ssh

export CVSROOT=:ext:USERNAME@cmscvs.cern.ch:/cvs_server/repositories/CMSSW

cvs co -d NtuplePackage UserCode/RGerosa/NtuplePackage

cvs co -d FastCalibrator UserCode/RGerosa/FastCalibrator/

cd NtuplePackage

source scripts/setup.sh
make
make exe

cd ../FastCalibrator/
source scripts/setup.sh
make
make exe


1) Intercalibration on EB (Ecal Barrel) :

Run the code: ./bin/FastCalibratorWeight.exe cfg/Barrel.cfg

Paramters to set in the cfg file:   -> inputFile = Root file input data to analyse WZtoenu
                                    -> inputFileDeadXtal= Add dead Channel to evaluate the effect on the IC
                                    -> inputTree =  tree name
                                    -> isMiscalib = Miscalibration 5% option  
                                    -> isSaveEPDistribution = save E/p pdf 
                                    -> isEPselection = apply E/p selection setted in the .cc
                                    -> isR9selection = apply R9 selection > 0.9 
                                    -> isMCTruth = use calibration E/E_{Truth}
                                    -> outputFile = output file
                                    -> numberOfEvents = -1 (all statistic) 
                                    -> useZ = 1 (use Z event) 0 (no Z event in IC procedure)
                                    -> useW = 1 (use W event) 0 (no W event in IC procedure)
                                    -> splitStat = 1 (split odd and even event) 0 (no split)
                                    -> nLoops = number of L3 iteration

1) Intercalibration on EE (Ecal Barrel) :

Run the code: ./bin/FastCalibratorEE.exe cfg/EndCap.cfg

Paramters to set in the cfg file:   -> inputFile = Root file input data to analyse WZtoenu
                                    -> inputFileDeadXtal= Add dead Channel to evaluate the effect on the IC
                                    -> inputTree =  tree name
                                    -> isMiscalib = Miscalibration 5% option  
                                    -> isSaveEPDistribution = save E/p pdf 
                                    -> isEPselection = apply E/p selection setted in the .cc
                                    -> isR9selection = apply R9 selection > 0.9 
                                    -> isfbrem = apply fbrem selection < 0.4
                                    -> isMCTruth = use calibration E/E_{Truth}
                                    -> outputFile = output file
                                    -> numberOfEvents = -1 (all statistic) 
                                    -> useZ = 1 (use Z event) 0 (no Z event in IC procedure)
                                    -> useW = 1 (use W event) 0 (no W event in IC procedure)
                                    -> splitStat = 1 (split odd and even event) 0 (no split)
                                    -> nLoops = number of L3 iteration
